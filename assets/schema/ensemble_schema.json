{
  "$id": "https://ensembleui.com/language.schema.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Ensemble",
  "type": "object",
  "properties": {
    "Import": {

    },
    "View": {
      "type": "object",
      "description": "This is your root View",
      "required": [
        "type"
      ],
      "properties": {
        "type": {
          "type": "string",
          "description": "Specifies the root widget i.e. Column, Row, Stack.",
          "enum": [
            "Column",
            "Row"
          ]
        },
        "children": {
          "$ref": "#/$defs/Widgets"
        }
      },
      "if": {
        "properties": {
          "type": {
            "const": "Column"
          }
        }
      },
      "then": {
        "properties": {
          "styles": {
            "$ref": "#/$defs/columnStyles"
          }
        }
      },
      "else": {
        "properties": {
          "styles": {
            "$ref": "#/$defs/rowStyles"
          }
        }
      }
    },
    "Action": {

    },
    "Functions": {

    },
    "API": {

    }

  },
  "additionalProperties": {
    "type": "object",
    "required": ["type"],
    "properties": {
      "params": {
        "type": "array"
      },
      "type": {
        "type": "string",
        "description": "The root widget of your Sub View"
      }
    }

  },


  "$defs": {

    "Text-payload": {
      "type": "object",
      "required": ["text"],
      "properties": {
        "text": {
          "type": "string",
          "description": "Your text"
        },
        "styles": {
          "type": "object",
          "properties": {
            "fontSize": {
              "type": "integer",
              "minimum": 6
            },
            "color": {
              "type": ["number", "string"],
              "description": "Text color starting with '0xFF' for full opacity"
            }
          }
        }
      }
    },
    "TextInput-payload": {
      "allOf": [
        { "$ref": "#/$defs/FormInput-payload" },
        {
          "type": "object",
          "properties": {
            "styles": {
              "type": "object",
              "properties": {
                "fontSize": {
                  "type": "integer",
                  "minimum": 6
                }
              }
            }
          }
        }
      ]
    },
    "DateRange-payload": {
      "allOf": [
        {
          "$ref": "#/$defs/FormInput-payload"
        }
      ]
    },
    "Button-payload": {
      "type": "object",
      "required": ["label"],
      "properties": {
        "label": {
          "type": "string",
          "description": "Your button label"
        },
        "styles": {
          "type": "object",
          "properties": {
            "color": {
              "type": ["number", "string"],
              "description": "Set the color for the button label starting with '0xFF' for full opacity"
            },
            "backgroundColor": {
              "type": ["number", "string"],
              "description": "Button background color starting with '0xFF' for full opacity"
            },
            "borderRadius": {
              "type": "integer"
            },
            "outline": {
              "type": "boolean",
              "description": "Whether the button should have an outline border instead of filled background"
            }
          }
        }
      }
    },
    "Column-payload": {
      "allOf": [
        {
          "type": "object",
          "properties": {
            "styles": { "$ref": "#/$defs/columnStyles" },
            "children": { "$ref": "#/$defs/Widgets" }
          }
        },
        { "$ref": "#/$defs/Templated-payload" }
      ]
    },
    "Row-payload": {
      "allOf": [
        {
          "type": "object",
          "properties": {
            "styles": { "$ref": "#/$defs/rowStyles" },
            "children": { "$ref": "#/$defs/Widgets" }
          }
        },
        { "$ref": "#/$defs/Templated-payload" }
      ]
    },
    "Templated-payload": {
      "type": "object",
      "properties": {
        "item-template": {
          "type": "object",
          "properties": {
            "data": { "type": "string" },
            "name": { "type": "string" },
            "template": { "$ref": "#/$defs/Widget" }
          }
        }
      }
    },
    "FormInput-payload": {
      "type": "object",
      "properties": {
        "label": {
          "type": "string",
          "description": "Label for your input widget"
        },
        "hintText": {
          "type": "string",
          "description": "Placeholder for your input widget"
        }
      }
    },


    "Widgets": {
      "type": "array",
      "description": "List of child widgets",
      "items": { "$ref": "#/$defs/Widget" }
    },
    "Widget": {
      "type": "object",
      "properties": {
        "Text": { "$ref": "#/$defs/Text-payload" },
        "TextInput": { "$ref": "#/$defs/TextInput-payload" },
        "DateRange": { "$ref": "#/$defs/DateRange-payload" },
        "Button": { "$ref": "#/$defs/Button-payload" },
        "Column": { "$ref": "#/$defs/Column-payload" },
        "Row": { "$ref": "#/$defs/Row-payload" }
      }
    },





    "baseStyles": {
      "type": "object",
      "properties": {
        "expanded": {
          "type": "boolean",
          "description": "If our parent is a Row or Column, this flag will stretch our widget in the appropriate direction. (e.g stretch horizontally for parent of type Row)"
        }
      }
    },
    "boxLayoutStyles": {
      "type": "object",
      "properties": {
        "width": {
          "type": "integer",
          "minimum": 0
        },
        "height": {
          "type": "integer",
          "minimum": 0
        },
        "margin": {
          "type": "integer",
          "minimum": 0
        },
        "padding": {
          "type": "integer",
          "minimum": 0
        },
        "gap": {
          "type": "integer",
          "minimum": 0
        },
        "backgroundColor": {
          "type": ["number", "string"],
          "description": "background color starting with '0xFF' for full opacity e.g 0xFFCCCCCC"
        },
        "borderColor": {
          "type": ["number", "string"],
          "description": "border color starting with '0xFF' for full opacity"
        },
        "borderRadius": {
          "type": "integer"
        },
        "fontFamily": {
          "type": "string",
          "description": "specify the font family applicable for all widgets inside this container"
        },
        "fontSize": {
          "type": "integer",
          "minimum": 0
        },
        "shadowColor": {
          "type": ["number", "string"],
          "description": "box shadow color starting with '0xFF' for full opacity"
        },
        "shadowRadius": {
          "type": "integer",
          "minimum": 0
        },
        "shadowOffset": {
          "type": "array",
          "items": {
            "type": "integer"
          }
        }
      }
    },
    "columnStyles": {
      "allOf": [
        {
          "$ref": "#/$defs/baseStyles"
        },
        {
          "$ref": "#/$defs/boxLayoutStyles"
        },
        {
          "type": "object",
          "properties": {
            "mainAxis": {
              "type": "string",
              "enum": ["top", "bottom", "middle", "space-between"]
            },
            "crossAxis": {
              "type": "string",
              "enum": ["start", "end", "center", "stretch"]
            },
            "scrollable": {
              "type": "boolean",
              "description": "content can scroll vertically as needed"
            },
            "autoFit": {
              "type": "boolean",
              "description": "Explicitly make our column's width as wide as the largest child, but only if our column's parent does not already assign us a width. This attribute is useful for sizing children who don't have a width (e.g Divider)"
            }
          }
        }
      ]
    },
    "rowStyles": {
      "allOf": [
        {
          "$ref": "#/$defs/baseStyles"
        },
        {
          "$ref": "#/$defs/boxLayoutStyles"
        },
        {
          "type": "object",
          "properties": {
            "mainAxis": {
              "type": "string",
              "enum": ["start", "end", "center", "space-between"]
            },
            "crossAxis": {
              "type": "string",
              "enum": ["top", "bottom", "middle", "stretch"]
            },
            "scrollable": {
              "type": "boolean",
              "description": "content can scroll horizontally as needed"
            },
            "autoFit": {
              "type": "boolean",
              "description": "Explicitly make our row's height as tall as the largest child, but only if our row's parent does not already assign us a height. This attribute is useful for sizing children who don't have a width (e.g vertical Divider)"
            }
          }
        }
      ]
    }







  }
}